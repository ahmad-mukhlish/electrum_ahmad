appId: com.electrum.ahmad.electrum_ahmad
---
# Mobile Auth Tests
# Orchestrates all mobile authentication test scenarios

# ===========================
# Scenario 1: Successful Login (Seeded User)
# ===========================
- runFlow: ../../common/auth-setup.yaml

- tapOn:
    text: ".*Login email.*"
- inputText: "ahmad.mukhlish.saputra@gmail.com"

- hideKeyboard

- tapOn:
    text: ".*Login password.*"
- inputText: "CobaCoba123"

- tapOn:
    text: ".*Login button.*"

- waitForAnimationToEnd

# Assert: Successfully logged in (home screen visible)
- assertVisible:
    text: ".*Home.*"


# ===========================
# Scenario 2: Failed Registration (Existing User)
# ===========================
- runFlow: ../../common/auth-setup.yaml

# Navigate to register screen
- tapOn:
    text: ".*Login signup.*"

- waitForAnimationToEnd

# Try to register with existing credentials
- tapOn:
    text: ".*Register email.*"
- inputText: "ahmad.mukhlish.saputra@gmail.com"

- hideKeyboard

- tapOn:
    text: ".*Register password.*"
- inputText: "CobaCoba123"

- tapOn:
    text: ".*Register button.*"

- waitForAnimationToEnd


# Assert: Still on register screen
- assertVisible:
    text: ".*Register button.*"


# ===========================
# Scenario 3: Logout Flow
# ===========================

# First, login if not already logged in
- runFlow: ../../common/auth-setup.yaml

- tapOn:
    text: ".*Login email.*"
- inputText: "ahmad.mukhlish.saputra@gmail.com"

- hideKeyboard

- tapOn:
    text: ".*Login password.*"
- inputText: "CobaCoba123"

- tapOn:
    text: ".*Login button.*"

- waitForAnimationToEnd

# Assert: Successfully logged in
- assertVisible:
    text: ".*Home.*"

# Navigate to Profile
- tapOn:
    text: ".*Profile.*"

- waitForAnimationToEnd

# Tap logout button
- tapOn:
    text: ".*Logout button.*"

- waitForAnimationToEnd

# Assert: Back to login screen
- assertVisible:
    text: ".*Login image.*"
- assertVisible:
    text: ".*Login email.*"
- assertVisible:
    text: ".*Login password.*"
- assertVisible:
    text: ".*Login button.*"

