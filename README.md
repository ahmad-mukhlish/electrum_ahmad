# Electrum Ahmad

Flutter mobile application targeting mobile and web, with platform-specific widgets split for clarity.

## Web Demo

https://github.com/user-attachments/assets/bc43aa61-b564-4f83-a706-13f1ebcbb5da

## Mobile Demo

https://github.com/user-attachments/assets/4950f841-6d9b-4436-98db-eb0be83b295f


## Highlights 
- Supports web and mobile
- Add geolocation for get precise location in interested to rents
- Use enhanced AI workflow using brief.md, plan.md, skills.md, and agents.md
- Offline support for reading data using firestore database
- Sample automated test using maestro, unit test and widget test

## How to run

### Android 
- Make sure an android device / emulator is connected and ready to use
- Run this command

```bash
flutter run 
```

### Web

```bash
flutter run \
  -d chrome \
  --web-hostname localhost \
  --web-port 3000 lib/main.dart
```

## Tech Stack

- Flutter 3.x
- Dart SDK ^3.9.2
- State management: Riverpod
- Primary datasource : Firebase Auth and Firestore

## Why Riverpod?

- Modern, compile-safe state management that pairs cleanly with `go_router`; GetX brings its own router, which conflicts with that approach.
- Less boilerplate and ceremony than Bloc while staying testable and explicit.
- Supports hooks concepts that been widely used in modern FE frameworks

## Why Firebase Auth and Firestore?

- This is a frontend/mobile take-home, so I chose to go all-in on Firebase Auth + Cloud Firestore.
- The focus is on app architecture, UX, and state management rather than building a custom backend. 
- All Firebase data access is still funneled through clean architecture and only resides in data layer.
- Backend could be swapped later without changing other layers.

## AI-assisted workflow

### Brief.md and Plan.md
- Each feature/task is documented in the `documentations/` folder (separate from code) with:
    - `brief.md` → manual brief containing:
        - Context
        - Scope
        - Requirements
        - Clues
        - Keep in mind
    - `plan.md` → AI-assisted implementation plan
      (generated with Claude / other tools and then curated).
  
- Reasons for this structure:
    - **Context management**
      Each feature carries its own compact context, removing the need
      to reload the entire codebase into an AI tool.
    - **Token and time efficiency**
      When resuming work on a feature, only these two files need to be
      reviewed instead of all source files.
    - **Minimilze AI hallucinations**
      With detailed plan we will have to review the AI first so AI won't assume or hallucinate
 
### AGENTS.md
-  Unified rules for all AI tools (AI-tools agnostic) for this project only. 
-  Will continue to grow with more conventions / rules about this project.
### SKILLS.md
- resides at .claude/skills
- including best practice at using and developing flutter, maestro automated testing and riverpod state management

## Project Structure (following clean architecture with MVVM pattern)

```
.claude/
  skills/
   flutter-developer/
    SKILL.md                    # Specific currated and edited skill.md about best practices in flutter 
   maestro-flutter/
    SKILL.md                    # Specific currated and edited skill.md about best practices in using maestro alongside flutter
   riverpod-state-management/  
    SKILL.md                    # Specific currated and edited skill.md about best practices riverpod state management 3.0 in 2025
AGENTS.md                       # AI rules for this project (AI tool agnostic)
CLAUDE.md                       # Pointer to AGENTS.md
lib/
  core/
    routing/                    # GoRouter configuration
    services/                   # Firebase Auth, Firestore, Local DB
    utils/                      # Helpers
    widgets/                    # Shared widgets
  features/
    auth/
      data/
        dtos/                   # JSON annotated dtos from datasources
        repositories/           # Implementation of domain repositories
        datasources/            # Data providers (Wrapper to API services / Local services)
      domain/
        entities/               # Business Entity (Model)
        repositories/           # Repository interfaces (contracts)
      presentation/
        viewmodel/
          notifiers/            # Notifiers (View model)
          states/               # Freezed UI states (if any)
        screens/                # Screen (View)
        widgets/
          mobile/               # Widgets tailored for mobile
          web/                  # Widgets tailored for web
          shared/               # Widgets shared between mobile and web
  main.dart                     # App entry point

documentations/                 # AI-assisted docs (separate from code)
  core/
    routing/
      brief.md                  # Context, Scope, Requirement, Clues, Keep in Mind
      plan.md                   # Generated by AI and reviewed by human
  features/
    auth/
      slicing-ui/
        brief.md                # Context, Scope, Requirement, Clues, Keep in Mind
        plan.md                 # Generated by AI and reviewed by human
      integrate-be/
        brief.md                # Context, Scope, Requirement, Clues, Keep in Mind
        plan.md                 # Generated by AI and reviewed by human
  references/                   # Design references, screenshots, etc.
```

## Automated Tests

### Running Maestro Tests (For now only covers Auth flow for Mobile)

```bash
maestro test maestro/all-tests.yaml
```
### Unit & Widget Tests 

### Unit test
- Only test critical entity : rent entity
- Only test critical state : plan state

### Widget test
- Only test critical widget : authForm

```bash
flutter test
```

## What will do if given more time?
- Complete all unit tests and widget tests (aim 90%+ coverage)
- Implement maestro for all flow on mobile 
- Implement playwright for test on web
